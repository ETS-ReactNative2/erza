@import './partials/_colours';
@import '../../node_modules/meiko/dist/templates/_button-link-customise-template';
@import '../../node_modules/meiko/dist/templates/_theme-template';

#erza-header {
  @include applicationHeaderLinks;
}
@include buttonStyles;

#erza-header,
#erza-sidebar {
  background: $primary-background;
}
#erza-header #logo-svg {
  background-color: $primary-background;
  color: $primary-colour-contrast;
}
a.filter-link.active {
  text-decoration: none;
  color: $primary-colour-contrast;
}

@each $name, $values in $theme-maps {
  $base-background: map-get($values, base-background);
  $base-colour: map-get($values, base-colour);
  $colour: map-get($values, colour);
  $contrast: map-get($values, contrast);
  $anchor-colour: map-get($values, anchor-colour);
  $anchor-colour-hover: map-get($values, anchor-colour-hover);

  .#{$name} {
    @include applicationTheme;

    background: $base-background;
    color: $base-colour;

    .themed-background {
      background: $base-background;
    }

    // Generic components
    .input-container,
    .select-container {
      input,
      select {
        background-color: $base-background;
        color: $base-colour;
        &:focus,
        &:focus ~ .list {
          border-bottom-color: $colour;
        }
      }

      input[type='checkbox']::before {
        color: $contrast;
      }
      input[type='checkbox']:checked::before {
        color: $colour;
      }
    }

    .input-chip-delete {
      &:hover::before {
        color: $colour;
      }
      &:not(.active):hover::before {
        color: $contrast;
      }
    }

    .autocomplete-menu {
      background-color: $base-background;
    }
    .autocomplete-suggestion {
      border: 1px solid $base-background;
      &.active {
        border-color: $colour;
        button {
          color: $colour;
        }
      }
    }

    .button:not(.primary) {
      background-color: $base-background;
      color: $base-colour;
      &:hover {
        @include shiftColourLightness($base-background, $darken-amount);
      }
    }
    .filter-link:not(.active),
    .button-link:not(.active) {
      color: $anchor-colour;
      &:focus,
      &:active,
      &:visited {
        color: $anchor-colour;
      }
      &:hover {
        color: $anchor-colour-hover;
      }
    }
    button[icon].bold {
      font-weight: bold;
    }

    input[type='radio']:checked::after {
      color: $colour;
    }
    input[type='radio']::after {
      color: $contrast;
    }

    ul[role='menu'] {
      background-color: $base-background;
      box-shadow: 2px 2px 10px $contrast;
      > li:first-child {
        border-bottom-color: $base-background; //20px solid $base-background;
        filter: drop-shadow(0 -2px 2px $contrast);
      }
    }

    //dialogs
    dialog {
      background-color: $base-background;
      color: $base-colour;

      &.backdrop::backdrop {
        background-color: $contrast;
      }
    }

    ul[role='tablist'] li {
      border-color: $contrast;
      border-bottom-color: $base-background;
      &.active {
        border-color: $colour;
        border-bottom-color: $base-background;
      }
    }

    // Unique UI elements
    #erza-header {
      li:not(.dropdown-arrow) {
        border-bottom: 1px solid $base-background;
      }
      .group-title {
        background-color: $colour;
        color: $contrast;
      }
    }

    #request-indicator > div {
      @include shiftColourLightness($colour, $darken-amount * 3);
    }

    .loading-bouncer > div {
      background: $colour;
    }

    // satellizer theming
    #satellizer {
      a {
        color: $anchor-colour;
        &:hover {
          color: $anchor-colour-hover;
        }
      }

      #season-key {
        background: $base-background;
      }

      .history-breakdown-body__row.month-breakdown:hover,
      .history-breakdown-body__row.year-breakdown:hover,
      .history-breakdown-body__row.month-breakdown:hover a,
      .history-breakdown-body__row.year-breakdown:hover a,
      #series-by-ratings-list > li:hover,
      #series-by-ratings-list > li:hover a,
      .repeated-series-table-row:hover,
      .repeated-series-table-row:hover a {
        background-color: $anchor-colour-hover;
        color: $anchor-colour;
      }

      .history-breakdown-body__data-cell__background {
        background-color: $contrast;
      }

      .rating-label.selected {
        background-color: $colour;
        color: $contrast;
      }
    }
  } // End of Theme block
} // End of @each
